(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[643],{1037:function(e,t,r){Promise.resolve().then(r.bind(r,6619))},9376:function(e,t,r){"use strict";var a=r(5475);r.o(a,"useParams")&&r.d(t,{useParams:function(){return a.useParams}}),r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}})},6619:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return u}});var a=r(7437),s=r(429),o=r(2265),n=r(9376),l=r(7648),i=r(1469),d=r(525),c=r(5699);function u(){(0,n.useRouter)();let e=(0,d.T)(),{posts:t,loading:r,error:u}=(0,d.C)(e=>e.blog),[p,h]=(0,o.useState)(""),[g,x]=(0,o.useState)("All"),[m,f]=(0,o.useState)(null);(0,o.useEffect)(()=>{e((0,c.PC)({}))},[e]);let y=async t=>{try{await e((0,c.XD)(t)).unwrap(),f(null)}catch(e){}},b=t.filter(e=>{let t=e.title.toLowerCase().includes(p.toLowerCase())||e.excerpt.toLowerCase().includes(p.toLowerCase())||e.author.toLowerCase().includes(p.toLowerCase()),r="All"===g||e.category===g;return t&&r});return(0,a.jsxs)("main",{className:"min-h-screen bg-background text-foreground",children:[(0,a.jsxs)("div",{className:"pt-16",children:[(0,a.jsx)(s.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"container-max px-4 py-8",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,a.jsx)(l.default,{href:"/blog",children:(0,a.jsxs)(s.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"inline-flex items-center gap-2 px-4 py-2 bg-secondary text-foreground rounded-lg font-medium hover:bg-secondary/80 transition-colors",children:[(0,a.jsx)(i.Ao2,{className:"w-4 h-4"}),"Back to Blog"]})}),(0,a.jsx)(l.default,{href:"/blog/create",children:(0,a.jsxs)(s.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"inline-flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg font-medium hover:bg-primary/90 transition-colors",children:[(0,a.jsx)(i.OvN,{className:"w-4 h-4"}),"Create New Post"]})})]}),(0,a.jsxs)("h1",{className:"text-3xl md:text-4xl font-bold mb-2",children:["Manage ",(0,a.jsx)("span",{className:"gradient-text",children:"Blog Posts"})]}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Edit, delete, and manage your blog posts."})]})}),(0,a.jsx)("div",{className:"container-max px-4 pb-16",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,a.jsx)(s.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"bg-card rounded-xl border border-border p-6 mb-8",children:(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(i.jRj,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-muted-foreground w-5 h-5"}),(0,a.jsx)("input",{type:"text",placeholder:"Search posts...",value:p,onChange:e=>h(e.target.value),className:"w-full pl-12 pr-4 py-3 border border-border rounded-lg bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary transition-colors"})]}),(0,a.jsx)("div",{children:(0,a.jsx)("select",{value:g,onChange:e=>x(e.target.value),className:"w-full px-4 py-3 border border-border rounded-lg bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary transition-colors",children:["All","Architecture","AI/ML","Performance","Real-time","Next.js","Trends","Tutorial","Case Study"].map(e=>(0,a.jsx)("option",{value:e,children:e},e))})})]})}),(0,a.jsx)(s.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:r?(0,a.jsxs)("div",{className:"text-center py-16",children:[(0,a.jsx)("div",{className:"w-8 h-8 border-2 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Loading posts..."})]}):u?(0,a.jsxs)("div",{className:"text-center py-16",children:[(0,a.jsx)("p",{className:"text-red-500 mb-4",children:u}),(0,a.jsx)("button",{onClick:()=>e((0,c.PC)({})),className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors",children:"Try Again"})]}):0===b.length?(0,a.jsxs)("div",{className:"text-center py-16",children:[(0,a.jsx)(i.Ihx,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-foreground mb-2",children:"No posts found"}),(0,a.jsx)("p",{className:"text-muted-foreground mb-6",children:"No posts match your current filters. Try adjusting your search or category selection."}),(0,a.jsx)(l.default,{href:"/blog/create",children:(0,a.jsxs)(s.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"inline-flex items-center gap-2 px-6 py-3 bg-primary text-white rounded-lg font-medium hover:bg-primary/90 transition-colors",children:[(0,a.jsx)(i.OvN,{className:"w-4 h-4"}),"Create Your First Post"]})})]}):(0,a.jsx)("div",{className:"space-y-4",children:b.map((e,t)=>(0,a.jsx)(s.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*t,duration:.6},className:"bg-card rounded-xl border border-border p-6",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)("span",{className:"px-2 py-1 bg-primary/10 text-primary text-xs rounded-full font-medium",children:e.category}),e.featured&&(0,a.jsx)("span",{className:"px-2 py-1 bg-green-500/10 text-green-500 text-xs rounded-full font-medium",children:"Featured"}),!e.published&&(0,a.jsx)("span",{className:"px-2 py-1 bg-yellow-500/10 text-yellow-500 text-xs rounded-full font-medium",children:"Draft"})]}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-foreground mb-2",children:e.title}),(0,a.jsx)("p",{className:"text-muted-foreground text-sm mb-3 line-clamp-2",children:e.excerpt}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[(0,a.jsxs)("span",{children:["By ",e.author]}),(0,a.jsx)("span",{children:"•"}),(0,a.jsx)("span",{children:new Date(e.date).toLocaleDateString()}),(0,a.jsx)("span",{children:"•"}),(0,a.jsx)("span",{children:e.readTime})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[(0,a.jsx)(l.default,{href:"/blog/".concat(e.slug),children:(0,a.jsx)(s.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-2 text-muted-foreground hover:text-foreground transition-colors",title:"View Post",children:(0,a.jsx)(i.rDJ,{className:"w-4 h-4"})})}),(0,a.jsx)(l.default,{href:"/blog/edit/".concat(e.slug),children:(0,a.jsx)(s.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-2 text-blue-500 hover:text-blue-600 transition-colors",title:"Edit Post",children:(0,a.jsx)(i.vPQ,{className:"w-4 h-4"})})}),(0,a.jsx)(s.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>f(e.id),className:"p-2 text-red-500 hover:text-red-600 transition-colors",title:"Delete Post",children:(0,a.jsx)(i.Ybf,{className:"w-4 h-4"})})]})]})},e.id))})})]})})]}),m&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,a.jsxs)(s.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-card rounded-xl border border-border p-6 max-w-md mx-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Confirm Delete"}),(0,a.jsx)("p",{className:"text-muted-foreground mb-6",children:"Are you sure you want to delete this blog post? This action cannot be undone."}),(0,a.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,a.jsx)("button",{onClick:()=>f(null),className:"px-4 py-2 border border-border rounded-lg hover:bg-secondary transition-colors",children:"Cancel"}),(0,a.jsx)("button",{onClick:()=>y(m),className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:"Delete"})]})]})})]})}},525:function(e,t,r){"use strict";r.d(t,{C:function(){return o},T:function(){return s}});var a=r(8575);let s=()=>(0,a.I0)(),o=a.v9},5699:function(e,t,r){"use strict";r.d(t,{BQ:function(){return o},D4:function(){return h},I7:function(){return l},Kx:function(){return i},Mr:function(){return x},PC:function(){return s},T_:function(){return u},XD:function(){return d},ql:function(){return p},so:function(){return n}});var a=r(1455);let s=(0,a.hg)("blog/fetchPosts",async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{rejectWithValue:t}=arguments.length>1?arguments[1]:void 0;try{let t=new URLSearchParams;e.page&&t.append("page",e.page.toString()),e.category&&"All"!==e.category&&t.append("category",e.category),e.search&&t.append("search",e.search);let r=await fetch("/api/blog?".concat(t.toString()));if(!r.ok)throw Error("Failed to fetch blog posts");return await r.json()}catch(e){return t(e instanceof Error?e.message:"Failed to fetch blog posts")}}),o=(0,a.hg)("blog/fetchFeaturedPosts",async(e,t)=>{let{rejectWithValue:r}=t;try{let e=await fetch("/api/blog/featured");if(!e.ok)throw Error("Failed to fetch featured posts");return await e.json()}catch(e){return r(e instanceof Error?e.message:"Failed to fetch featured posts")}}),n=(0,a.hg)("blog/fetchPostBySlug",async(e,t)=>{let{rejectWithValue:r}=t;try{let t=await fetch("/api/blog/".concat(e));if(!t.ok)throw Error("Blog post not found");return await t.json()}catch(e){return r(e instanceof Error?e.message:"Failed to fetch blog post")}}),l=(0,a.hg)("blog/createPost",async(e,t)=>{let{rejectWithValue:r}=t;try{let t=await fetch("/api/blog",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error("Failed to create blog post");return await t.json()}catch(e){return r(e instanceof Error?e.message:"Failed to create blog post")}}),i=(0,a.hg)("blog/updatePost",async(e,t)=>{let{id:r,postData:a}=e,{rejectWithValue:s}=t;try{let e=await fetch("/api/blog/".concat(r),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!e.ok)throw Error("Failed to update blog post");return await e.json()}catch(e){return s(e instanceof Error?e.message:"Failed to update blog post")}}),d=(0,a.hg)("blog/deletePost",async(e,t)=>{let{rejectWithValue:r}=t;try{if(!(await fetch("/api/blog/".concat(e),{method:"DELETE"})).ok)throw Error("Failed to delete blog post");return e}catch(e){return r(e instanceof Error?e.message:"Failed to delete blog post")}}),c=(0,a.oM)({name:"blog",initialState:{posts:[],featuredPosts:[],currentPost:null,loading:!1,error:null,totalPosts:0,currentPage:1,postsPerPage:9,categories:[],selectedCategory:"All",searchQuery:""},reducers:{setSelectedCategory:(e,t)=>{e.selectedCategory=t.payload,e.currentPage=1},setSearchQuery:(e,t)=>{e.searchQuery=t.payload,e.currentPage=1},setCurrentPage:(e,t)=>{e.currentPage=t.payload},clearError:e=>{e.error=null},clearCurrentPost:e=>{e.currentPost=null}},extraReducers:e=>{e.addCase(s.pending,e=>{e.loading=!0,e.error=null}).addCase(s.fulfilled,(e,t)=>{e.loading=!1,e.posts=t.payload.posts,e.totalPosts=t.payload.total,e.categories=t.payload.categories}).addCase(s.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}).addCase(o.pending,e=>{e.loading=!0,e.error=null}).addCase(o.fulfilled,(e,t)=>{e.loading=!1,e.featuredPosts=t.payload.posts}).addCase(o.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}).addCase(n.pending,e=>{e.loading=!0,e.error=null}).addCase(n.fulfilled,(e,t)=>{e.loading=!1,e.currentPost=t.payload.post}).addCase(n.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}).addCase(l.fulfilled,(e,t)=>{e.posts.unshift(t.payload.post),e.totalPosts+=1}).addCase(i.fulfilled,(e,t)=>{var r;let a=e.posts.findIndex(e=>e.id===t.payload.post.id);-1!==a&&(e.posts[a]=t.payload.post),(null===(r=e.currentPost)||void 0===r?void 0:r.id)===t.payload.post.id&&(e.currentPost=t.payload.post)}).addCase(d.fulfilled,(e,t)=>{var r;e.posts=e.posts.filter(e=>e.id!==t.payload),e.totalPosts-=1,(null===(r=e.currentPost)||void 0===r?void 0:r.id)===t.payload&&(e.currentPost=null)})}}),{setSelectedCategory:u,setSearchQuery:p,setCurrentPage:h,clearError:g,clearCurrentPost:x}=c.actions;t.ZP=c.reducer}},function(e){e.O(0,[502,648,315,519,971,117,744],function(){return e(e.s=1037)}),_N_E=e.O()}]);